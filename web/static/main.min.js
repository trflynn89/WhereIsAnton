function getLocations(){$.get("/locations",function(e){addLocations(e.locations)})}function addLocations(e){if(0!=e.length)if(e.sort(function(e,a){return e.time==a.time?0:e.time<a.time?1:e.time>a.time?-1:void 0}),clearMarkers(),s_showAll){for(var a=new google.maps.LatLngBounds,n=0;n<e.length;++n){var t=addMarker(e[n]);a.extend(t)}s_map.fitBounds(a)}else{var o=e[0].latitude,s=e[0].longitude;s_map.setCenter(new google.maps.LatLng(o,s)),s_map.setZoom(5),addMarker(e[0])}}function addMarker(e){var a=new google.maps.LatLng(e.latitude,e.longitude),n=new google.maps.Marker({position:a,map:s_map});return labelMarker(n,e.address),s_markers.push(n),a}function clearMarkers(){for(var e=0;e<s_markers.length;++e)s_markers[e].setMap(null);s_markers=[]}function labelMarker(e,a){var n=new google.maps.InfoWindow({content:a});n.open(e.getMap(),e),e.addListener("click",function(){n.open(e.getMap(),e)})}function handleNavOption(e){s_showAll=e,getLocations()}var s_map,s_markers=[],s_showAll=!1;$(document).ready(function(e){s_map=new google.maps.Map(document.getElementById("map"),{disableDefaultUI:!0,center:{lat:0,lng:0},zoom:2}),getLocations()});
